---
title: "My Market"
date: "2025-04-23"
excerpt: "실시간 채팅, 송금, 검색, 신고 기능까지 갖춘 Flask 기반 중고마켓 플랫폼"
category: "개발"
imageUrl: "/images/secure-coding-market.png"
---

# My Market  
2025.04.14 ~ 2025.04.23  
[중고마켓 플랫폼 개발 / 시큐어 코딩 학습 목적]  
[접속 주소: http://yanggangmarket.kro.kr/]

## 🔍 프로젝트 개요

- **프로젝트명**: My Market  
- **개발 목적**: 중고마켓 플랫폼 개발을 통한 개발 및 시큐어코딩 지식 학습  
- **주요 기능**: 사용자 관리, 상품 등록/검색/신고, 실시간 채팅, 송금, 관리자 페이지

## ✅ 요구사항 분석

### 기능 요구사항
- 사용자 가입, 로그인, 프로필 수정  
- 상품 등록, 조회, 검색  
- 실시간 채팅  
- 사용자 및 상품 신고/차단 기능  
- 캐시를 활용한 송금 기능  
- 관리자 페이지 (상품/사용자/채팅 관리)

### 비기능 요구사항
- 비밀번호 암호화 저장  
- 유지보수성 고려한 모듈화 코드 구성  

## 🏗️ 시스템 설계

### 아키텍처
- **백엔드**: Python Flask  
- **프론트엔드**: HTML, CSS, JS  
- **DB**: SQLite  
- **배포**: AWS EC2 + `내도메인.한국` 도메인

### 데이터베이스 설계
- **User**: id, username, password, bio  
- **Product**: id, title, description, price, seller_id  
- **Chat_log**: id, username, message, timestamp  
- **Transaction**: id, buyer_id, seller_id, product_id, amount  
- **Report**: id, reporter_id, target_id, reason  

## ⚙️ 기능 구현

[GitHub 링크](https://github.com/yanggangbb/secure-coding)

### 주요 기능
- `Flask-Login`으로 세션/인증 처리  
- `Flask-WTF + SQLAlchemy`로 상품 등록, ORM 구현  
- `Firebase`를 활용한 실시간 채팅  
- 신고 및 차단 기능 → 관리자 페이지에서 관리  
- 캐시 시스템 기반의 송금 기능  
- `Elasticsearch`를 이용한 검색 기능  
- `Flask-Admin`을 이용한 관리자 페이지 구성  

### 보안 및 인증
- `bcrypt`로 비밀번호 해시 암호화  
- `Flask-WTF`로 XSS, SQL Injection, CSRF 방지  
- 프론트+백엔드 양단의 입력 길이 검증  

## 🧪 테스트 및 결과

### 기능 작동 예시
- 회원가입 / 로그인 페이지 [이미지]  
- 대시보드 및 상품 검색 [이미지]  
- 실시간 채팅 기능 [이미지]  
- 상품 등록 / 확인 페이지 [이미지]  
- 관리자 페이지(사용자, 상품, 채팅 관리) [이미지]

### 테스트 계정
- ID: `test`  
- PW: `test1234`

## 🔒 발견된 보안 취약점 및 조치

1. **비밀번호 평문 저장**  
   → bcrypt 해싱으로 암호화 저장  

2. **폼 입력값 검증 부족**  
   → Flask-WTF로 유효성 검증 및 보안 강화  

3. **폼 입력 길이 제한 없음**  
   → 프론트/백엔드 양측에 입력 길이 제한 추가  